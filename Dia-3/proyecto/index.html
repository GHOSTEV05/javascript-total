<!DOCTYPE html>
    <head>
        <title>Juego de preguntas</title>
        <link rel="stylesheet" href="misEstilos.css">
    </head>
    <body onload="comenzarTiempo()">
        <h1>¿QUÉ TAN FAN ERES DE UFC?</h1>

        <h1 id="tiempoRestante">30</h1>

        <audio id="audioGameOver">
            <source src="Audios/gameover.mp3" type="audio/mpeg">
            Sonido no habilitado
        </audio>

        <h2>Pregunta 1</h2>
        <p>¿De qué país es Khabib Nurmagomedov?</p>
        <input type="text" id="respuesta1">

        <h2>Pregunta 2</h2>
        <p>¿Contra quien peleó por ultima vez Charles Oliveira</p>
        <input type="text" id="respuesta2">

        <h2>Pregunta 3</h2>
        <p>¿Qué título ganó por última vez Max Holloway?</p>
        <input type="text" id="respuesta3">

        <h2>Pregunta 4</h2>
        <p>¿En qué categoría se retiró Jon Jones?</p>
        <input type="text" id="respuesta4">

        <h2>Pregunta 5</h2>
        <p>¿Cuál es la base de Islam Makhachev?</p>
        <input type="text" id="respuesta5">

        <br><br>

        <button onclick="finalizarJuego()">Finalizar</button>
        <button onclick="volverAIntentar()">Volver a intentar</button>

        <script>

            let tiempo = 30;
            let intervaloTiempo;
            let tiempoTerminado;
            let elementoAudio=document.getElementById("audioGameOver");

            function comenzarTiempo() {
                tiempoTerminado = setTimeout(tiempoCumplido, 30000);
                intervaloTiempo = setInterval(ticTac, 1000);
            }

            function ticTac(){
                elementoTiempoRestante = document.getElementById("tiempoRestante");
                elementoTiempoRestante.textContent = tiempo;
                tiempo=tiempo-1;
            }

            function tiempoCumplido() {
                    clearInterval(intervaloTiempo);
                    elementoAudio.play();
                    alert("GAME OVER");
            }

            function finalizarJuego() {
                clearTimeout(tiempoTerminado);
                clearInterval(intervaloTiempo);

                let r1 = document.getElementById("respuesta1").value;
                let r2 = document.getElementById("respuesta2").value;
                let r3 = document.getElementById("respuesta3").value;
                let r4 = document.getElementById("respuesta4").value;
                let r5 = document.getElementById("respuesta5").value;

                let tiempoActual = new Date();
                let fecha = tiempoActual.toLocaleDateString("es-ES");

                alert(
                    "Tus respuestas:\n" +
                    "1. " + r1 + "\n" +
                    "2. " + r2 + "\n" +
                    "3. " + r3 + "\n" +
                    "4. " + r4 + "\n" +
                    "5. " + r5 + "\n\n" +
                    "Fecha: " + fecha
                );
            }

            function volverAIntentar(){
                location.reload();
            }


        </script>
    </body>
</html>